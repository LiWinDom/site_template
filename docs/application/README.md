## Здесь я расскажу, как именно работает этот сайт

#### В application/ есть 4 основные папки. В каждой из них хранится один из элементов страницы

core/ - "ядро" сайта. Трогать не нужно (горячее). Здесь происходит обработка всей логики сайта и базовай классы

controllers/ - контроллер сайта. Тут идёт обработка всего (форм в частности), но подключаться к БД здесь НЕЛЬЗЯ. Для получения данных из БД нужно вызывать определённую функцию, как и для отображения страницы (об этом чуть дальше). Каждый рабочий файл должен иметь имя в виде "controller_[controller_name]"

views/ - фронтенд сайта. Здесь обычный код на html, с редкими вставками php, для парсинга массива $data. Каждый рабочий файл должен иметь имя в виде "view_[controller_name]", либо же "view_[controller_name]_[action_name]", если для данного действия нужно отобразить другую станицу

models/ - работа с БД осуществляется здесь. Здесь же мы формируем $data (не забываем документировать, если пишем новый функционал). Каждый рабочий файл должен иметь имя в виде "model_[controller_name]"

#### Каждая страница обязана иметь контроллер и вьюшку! Модель нужна лишь для тех страниц, где есть взаимодействие с БД.

#### Как всё это работает? При обращении к странице /[controller_name]/[action_name] вызывается функция action_[action_name] в файле controller_[controller_name]. По умолчанию controller_name = "home", а action_name = "index".

Для отображения страницы есть функция $this->view->generate([view_name], [view_template], [data]), где [view_name] - название файла с вьюшкой, [template_name] - небольшой шаблон, который используется везде (подробнее в view_templates.md), а [data] - массив с данными, которые нужны для корректного отображения страницы (опять же, не забываем это документировать). [data] обычно прямо из БД, без обработки, можно опустить, если данных нет.
Для получения данных из БД нужно написать конструктор, где подключается нужная модель ($this->model = new Model_[controller_name]). В этом случае не забываем подключать класс вьюшки ($this->view = new View). Данные получаем через функцию $this->model->get_data() (либо же через $this->model->get_data_[action_name](), если для разных подстраниц нужны разные данные, но тогда для этого действия должна быть отдельна вьюшка)
В модели, в функции get_data() (либо же get_data_[action_name]()) мы просто возвращаем массив с данными (доки всё ещё важны!)
В файле view_[controller_name] идет просто html разметка, которая вставляется в ранее указанный шаблон. При необходимости обращаемся к $data

###### Так же у нас есть контроллер, модель и вьюшка-шаблон, которые можно скопировать для создания новой страницы. Они лежат в файлах с постфиксом _default

#### Более подробное описание каждого из контроллеров расписаны в соответствующих файлах